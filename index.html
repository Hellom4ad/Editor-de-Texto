<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quick Notes (Vue + Tailwind)</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <script>
    tailwind.config = {
      darkMode: 'selector', // Ahora el objeto 'tailwind' ya existe
    }
  </script>
  
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  
  <link rel="stylesheet" href="style.css"> 
</head>

<body>

  <div id="app" 
       class="font-['Poppins'] p-8 bg-[var(--base-color)] text-[var(--text-color)] transition-colors duration-200 min-h-screen">

    <header class="flex justify-between items-center mb-8">
      <h1 class="mb-4 text-4xl font-bold">Quick Notes</h1>
      <div>
        <button 
          @click="openNoteDialog()"
          class="bg-[var(--brand-color)] text-white py-3 px-6 rounded-lg font-medium transition-all duration-200 ease-in-out hover:bg-[#7a7fff]">
          + Add Note
        </button>
        <theme-toggle></theme-toggle>
      </div>
    </header>

    <main id="notesContainer" class="grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-6">
      
      <div v-if="notes.length === 0" class="text-center py-16 px-8 text-[var(--secondary-text-color)] col-span-full">
        <h2 class="text-2xl mb-2 font-semibold">No notes yet</h2>
        <p class="text-base mb-8">Create your first note to get started!</p>
        <button 
          @click="openNoteDialog()"
          class="bg-[var(--brand-color)] text-white py-3 px-6 rounded-lg font-medium transition-all duration-200 ease-in-out hover:bg-[#7a7fff]">
          + Add Your First Note
        </button>
      </div>

      <div 
        v-for="note in notes" 
        :key="note.id" 
        class="group relative bg-[var(--surface-color)] rounded-xl p-6 border border-[var(--surface-color)] transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-[0_2px_15px_rgba(0,0,0,0.05)]">
        
        <div class="absolute top-4 right-4 flex gap-2 opacity-0 invisible transition-all duration-200 ease-in-out group-hover:opacity-100 group-hover:visible">
          <button 
            @click="openNoteDialog(note.id)" 
            title="Edit Note"
            class="w-8 h-8 rounded-md cursor-pointer flex items-center justify-center transition-all duration-200 ease-in-out backdrop-blur-[10px] bg-[var(--base-transparent-90)] text-[var(--text-color)] border border-[var(--surface-color)] hover:bg-[var(--base-transparent-100)] hover:scale-105">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
          </button>
          <button 
            @click="deleteNote(note.id)" 
            title="Delete Note"
            class="w-8 h-8 rounded-md cursor-pointer flex items-center justify-center transition-all duration-200 ease-in-out backdrop-blur-[10px] bg-[var(--base-transparent-90)] text-[var(--text-color)] border border-[var(--surface-color)] hover:bg-[#ff5252] hover:scale-105 hover:text-white">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/>
            </svg>
          </button>
        </div>

        <h3 class="text-xl font-semibold mb-3 text-[var(--text-color)] break-words">{{ note.title }}</h3>
        <p class="text-[var(--secondary-text-color)] leading-relaxed mb-4 break-words whitespace-pre-wrap">{{ note.content }}</p>

      </div>
    </main>

    <dialog id="noteDialog" class="m-auto inset-0 border-none rounded-2xl p-0 bg-[var(--surface-color)] text-[var(--text-color)] max-w-[500px] w-[90vw] backdrop:bg-black/10 backdrop:backdrop-blur-sm">
      <div class="p-8">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-semibold" id="dialogTitle">Add New Note</h2>
          <button 
            @click="closeNoteDialog"
            class="bg-transparent border-none text-2xl cursor-pointer text-[var(--secondary-text-color)] p-1 rounded transition-colors duration-200 ease-in-out hover:bg-[var(--base-color)]">x</button>
        </div>

        <form id="noteForm" @submit.prevent="saveNote">
          <div class="mb-6">
            <label for="noteTitle" class="block mb-2 font-medium text-[var(--text-color)]">Title</label>
            <input 
              type="text" 
              id="noteTitle" 
              v-model="formTitle" 
              class="w-full p-3 border-2 border-[var(--surface-color)] rounded-lg text-base transition-colors duration-200 ease-in-out bg-[var(--base-color)] text-[var(--text-color)] focus:outline-none focus:border-[var(--brand-color)]" 
              placeholder="Enter note title..." required>
          </div>
          
          <div class="mb-6">
            <label for="noteContent" class="block mb-2 font-medium text-[var(--text-color)]">Content</label>
            <textarea 
              id="noteContent" 
              v-model="formContent" 
              class="w-full p-3 border-2 border-[var(--surface-color)] rounded-lg text-base transition-colors duration-200 ease-in-out bg-[var(--base-color)] text-[var(--text-color)] focus:outline-none focus:border-[var(--brand-color)] resize-y min-h-[120px]" 
              placeholder="Write your note here..." required></textarea>
          </div>

          <div class="flex gap-4 justify-end">
            <button 
              type="button" 
              @click="closeNoteDialog"
              class="py-3 px-6 border-none rounded-lg cursor-pointer font-medium transition-all duration-200 ease-in-out bg-[var(--base-color)] text-[var(--text-color)]">
              Cancel
            </button>
            <button 
              type="submit" 
              class="py-3 px-6 border-none rounded-lg cursor-pointer font-medium transition-all duration-200 ease-in-out bg-[var(--brand-color)] text-white hover:bg-[#7a7fff]">
              Save Note
            </button>
          </div>
        </form>
      </div>
    </dialog>

  </div> <script src="app.js"></script>
</body>
</html>